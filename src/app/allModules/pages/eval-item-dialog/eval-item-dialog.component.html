<div class="dialog-content-wrapper">
  <mat-toolbar class="toolbar" fxLayout="row" fxLayoutAlign="space-between center">
      <p class="title">Item</p>
      <img (click)="dialogRef.close()" src="assets/images/cancel1.png" style="cursor: pointer;">
  </mat-toolbar>

  <mat-dialog-content class="p-24 m-0" fusePerfectScrollbar>
      <div fxLayout="column">
          <form autocomplete="off" [formGroup]="DialogueFormGroup" fxLayout="column">
              <div fxLayout="row wrap" fxFlex="100" fxLayoutGap="3%">
                  <mat-form-field fxFlex=30 appearance="outline">
                      <mat-label>Material</mat-label>
                      <mat-select formControlName="material" fxFlex disableOptionCentering panelClass="myPanelClass">
                          <mat-option *ngFor="let item of MaterialMaster" [value]="item.Material">{{item.Material}}
                          </mat-option>
                      </mat-select>
                  </mat-form-field>

                  <mat-form-field fxFlex=30 appearance="outline">
                      <mat-label>Material Text</mat-label>
                      <input matInput formControlName="material_text" fxFlex autocomplete="off">
                  </mat-form-field>

                  <mat-form-field fxFlex=30 appearance="outline">
                      <mat-label>UOM</mat-label>
                      <input matInput maxlength="3" size="3" formControlName="Uom" fxFlex autocomplete="off">
                  </mat-form-field>

                  <mat-form-field fxFlex=30 appearance="outline">
                      <mat-label>Total Qty</mat-label>
                      <input matInput type="number" formControlName="TotalQty" fxFlex autocomplete="off">
                  </mat-form-field>

                  <mat-form-field fxFlex=30 appearance="outline">
                      <mat-label>Per Schedule Qty</mat-label>
                      <input matInput formControlName="per_schedule_qty" type="number" fxFlex autocomplete="off">
                  </mat-form-field>


                  <mat-form-field fxFlex=30 appearance="outline">
                      <mat-label>Total Schedules</mat-label>
                      <input matInput type="number" formControlName="totalSchedules" fxFlex autocomplete="off">
                  </mat-form-field>

                  <mat-form-field fxFlex=30 appearance="outline">
                      <mat-label>Bidding Price Low</mat-label>
                      <input matInput formControlName="LowPrice" type="number" fxFlex autocomplete="off" min="0"
                          oninput="this.value = Math.abs(this.value)">
                  </mat-form-field>

                  <mat-form-field fxFlex=30 appearance="outline">
                      <mat-label>Bidding Price High</mat-label>
                      <input matInput formControlName="HighPrice" type="number" fxFlex autocomplete="off" min="0"
                          oninput="this.value = Math.abs(this.value)">
                  </mat-form-field>

                  <mat-form-field fxFlex=30 appearance="outline">
                      <mat-label>Interval</mat-label>
                      <input matInput formControlName="Interval" type="number" fxFlex autocomplete="off" min="0"
                          oninput="this.value = Math.abs(this.value)">
                  </mat-form-field>

                  <mat-form-field fxFlex=30 appearance="outline">
                      <mat-label>Incoterm</mat-label>
                      <input matInput formControlName="incoterm" max="2" size="2" fxFlex autocomplete="off">
                  </mat-form-field>

                  <mat-form-field fxFlex=30 appearance="outline">
                      <mat-label>First Schedule Start (In days)</mat-label>
                      <input matInput formControlName="LeadTime" type="number" fxFlex autocomplete="off" min="0"
                          oninput="this.value = Math.abs(this.value)">
                  </mat-form-field>
              </div>

              <div fxFlex>
                  <mat-form-field fxFlex appearance="outline">
                      <mat-label>Notes</mat-label>
                      <textarea matInput formControlName="Notes" max="2" size="2" fxFlex
                          autocomplete="off"></textarea>
                  </mat-form-field>
              </div>
          </form>
          <form autocomplete="off" [formGroup]="ResItemFormGroup">
              <div fxLayout="row wrap" fxFlex="100" fxLayoutGap="3%">
                  <mat-form-field fxFlex=30 appearance="outline">
                      <mat-label>Price</mat-label>
                      <input matInput formControlName="Price" fxFlex autocomplete="off" type="number">
                  </mat-form-field>

                  <mat-form-field fxFlex=30 appearance="outline">
                      <mat-label>USP Remark</mat-label>
                      <input matInput formControlName="USPRemark" fxFlex autocomplete="off">
                  </mat-form-field>

                  <mat-form-field fxFlex=30 appearance="outline">
                      <mat-label>Price Rating</mat-label>
                      <input matInput maxlength="1" max="5" min="1" formControlName="PriceRating" fxFlex
                          autocomplete="off" type="number">
                  </mat-form-field>

                  <mat-form-field fxFlex=30 appearance="outline">
                      <mat-label>Lead Time Rating</mat-label>
                      <input matInput type="number" formControlName="LeadTimeRating" fxFlex autocomplete="off">                        
                  </mat-form-field>

                  <mat-form-field fxFlex=30 appearance="outline">
                      <mat-label>Lead Time is acceptable</mat-label>
                      <mat-select formControlName="LeadTimeAccept" fxFlex>
                          <mat-option *ngFor="let type of types" [value]="type">{{type}}</mat-option>
                      </mat-select>
                  </mat-form-field>

                  <mat-form-field *ngIf="ResItemFormGroup.get('LeadTimeAccept').value=='No'" fxFlex=30
                      appearance="outline">
                      <mat-label>Remarks</mat-label>
                      <input matInput formControlName="LeadTimeRemark" fxFlex autocomplete="off">
                  </mat-form-field>
              </div>
          </form>

          <div fxLayout="row" fxLayout="start center" fxLayoutGap="4rem"> 
              <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="8px">
                  <p class="attachment">RFx Attachment</p>
                  <span matBadgeSize="small" matBadgeColor="accent" matBadgeOverlap="false"
                      [matBadge]="RFxItemAttachment.length">
                          <img (click)="openAttachmentViewDialog(rfxitem.RFxID,RFxItemAttachment,false)" style="width: 20px;cursor: pointer;" src="assets/images/rfq/attachment.svg">
                      </span>
              </div>
              <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="8px">
                  <p class="attachment">Response Attachment</p>
                  <span matBadgeSize="small" matBadgeColor="accent" matBadgeOverlap="false"
                      [matBadge]="ResItemAttachment.length">
                          <img (click)="openAttachmentViewDialog(rfxitem.RFxID,ResItemAttachment,true)" style="width: 20px;cursor: pointer;" src="assets/images/rfq/attachment.svg">
                      </span>
              </div>
          </div>
      </div>
  </mat-dialog-content>
  <mat-dialog-actions class="m-0 p-16 footer" fxLayoutAlign="center center">
      <button mat-button type="button" class="savebtn" (click)="Save()">Close</button>
  </mat-dialog-actions>
</div>