<div id="dashboard" fxFlex fusePerfectScrollbar>
    <div fxLayout="column" class="px-16">
        <div fxFlex=75 class="container1 px-16">
            <div fxLayout="row" fxLayout="start center" class="py-24">
                <button mat-icon-button (click)="CancelClicked()">
                    <img src="assets/images/rfq/backbutton.svg" style="width: 24px;">
                </button>
                <!-- <span class="title">Award</span> -->
            </div>
        </div>
        <div fxLayout="row" fxLayoutAlign="start center" style="margin-top: 20px;">
            <mat-radio-group aria-label="Select an option">
                <span class="space_left"></span>
                <mat-radio-button [checked]="true" value="1" (click)="TableVendor()">By Vendor</mat-radio-button>
                <span class="space_left"></span>
                <mat-radio-button value="2" (click)="TableMaterial()">By Material</mat-radio-button>
                <span class="space_left"></span>
                <mat-radio-button value="3" (click)="TableEvaluation()">By Evaluation Parameter</mat-radio-button>
            </mat-radio-group>
        </div>

        <div *ngIf="value == 1" style="margin: 20px;">
            <mat-card class="cl_card">
                <div fxLayout="row" fxLayoutAlign="space-between center" class="pb-24">
                    <label class="tab-title">By Vendor Rating List</label>
                </div>

                <table mat-table [dataSource]="HeaderDetailsDataSource" matSort class="py-10">

                    <ng-container matColumnDef="PartnerID">
                        <th mat-header-cell mat-sort-header *matHeaderCellDef> Supplier </th>
                        <td mat-cell *matCellDef="let element"> {{element.PartnerID}}
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="Rating">
                        <th mat-header-cell style="text-align: center;" *matHeaderCellDef>Criteria Rating</th>
                        <td mat-cell class="td-cell" style="text-align: center;" *matCellDef="let element;index as i">
                            <div style="width:10rem" style="width: 100%;" fxLayoutAlign="center">
                                <star-rating [value]="AllEvalRatingDetails[i].Rating" checkedcolor="gold"
                                    uncheckedcolor="#b9bdbb" size="20px" readonly="true"></star-rating>
                            </div>
                            <!-- {{element.Rating}} -->
                        </td>
                    </ng-container>


                    <tr mat-header-row *matHeaderRowDef="HeaderDetailsDisplayedColumns"></tr>
                    <tr mat-row (click)="TableHighlight(row,1)" [class.highlighted]="row.PartnerID==SelectedVendor"
                        *matRowDef="let row; columns: HeaderDetailsDisplayedColumns;"></tr>
                </table>
            </mat-card>
        </div>

        <div *ngIf="value==2" fxFlex style="margin: 20px;">
            <mat-card class="cl_card">
                <div fxLayout="row" fxLayoutAlign="space-between center" class="pb-24">
                    <label class="tab-title">By Material Vendor List</label>
                </div>

                <table mat-table [dataSource]="MaterialDetailsDataSource" matSort class="py-10">

                    <ng-container matColumnDef="Material">
                        <th mat-header-cell mat-sort-header *matHeaderCellDef> Product </th>
                        <td mat-cell *matCellDef="let element"> {{element.Material}}
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="BestSupplier">
                        <th mat-header-cell style="text-align: center;" *matHeaderCellDef>Best Supplier</th>
                        <td mat-cell class="td-cell" style="text-align: center;" *matCellDef="let element;index as i">
                            {{element.BestSupplier}}
                        </td>
                    </ng-container>


                    <tr mat-header-row *matHeaderRowDef="MaterialDetailsDisplayedColumns"></tr>
                    <tr mat-row (click)="TableHighlight(row,2)" [class.highlighted]="row.BestSupplier==SelectedVendor"
                        *matRowDef="let row; columns: MaterialDetailsDisplayedColumns;"></tr>
                </table>
            </mat-card>
        </div>

        <div *ngIf="value==3" fxFlex style="margin: 20px;">
            <mat-card class="cl_card">
                <div fxLayout="row" fxLayoutAlign="space-between center" class="pb-24">
                    <label class="tab-title">By Evaluation Parameter List</label>
                </div>

                <table mat-table [dataSource]="CriteriaDetailsDataSource" matSort class="py-10">

                    <ng-container matColumnDef="Criteria">
                        <th mat-header-cell mat-sort-header *matHeaderCellDef> Criteria </th>
                        <td mat-cell *matCellDef="let element"> {{element.Criteria}}
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="BestSupplier">
                        <th mat-header-cell style="text-align: center;" *matHeaderCellDef>Best Supplier</th>
                        <td mat-cell class="td-cell" style="text-align: center;" *matCellDef="let element;index as i">
                            {{element.BestSupplier}}
                        </td>
                    </ng-container>


                    <tr mat-header-row *matHeaderRowDef="CriteriaDetailsDisplayedColumns"></tr>
                    <tr mat-row (click)="TableHighlight(row,2)" [class.highlighted]="row.BestSupplier==SelectedVendor"
                        *matRowDef="let row; columns: CriteriaDetailsDisplayedColumns;"></tr>
                </table>
            </mat-card>
        </div>

        <form autocomplete="off" [formGroup]="AwardFormGroup">
            <mat-card *ngIf="Click" class="cl_card3" fxLayout="column">
                <div fxLayout="column" fxLayoutGap="1rem">
                    <div fxLayout="row" fxLayoutAlign="space-between center">
                        <label class="tab-title">Reason</label>
                    </div>
                    <mat-form-field style="font-size: 14px;" appearance="outline">
                        <textarea matInput fxFlex formControlName="Reason"></textarea>
                        <mat-error
                            *ngIf="AwardFormGroup.get('Reason').touched && AwardFormGroup.get('Reason').hasError('required')">
                            Reason is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </mat-card>

            <mat-card *ngIf="Click" class="cl_card3" fxLayout="column">
                <div fxLayout="column" fxLayoutGap="1rem">
                    <div fxLayout="row" fxLayoutAlign="space-between center">
                        <label class="tab-title">Remarks</label>
                    </div>
                    <mat-form-field style="font-size: 14px;" appearance="outline">
                        <textarea matInput fxFlex formControlName="Remarks"></textarea>
                        <mat-error
                            *ngIf="AwardFormGroup.get('Remarks').touched && AwardFormGroup.get('Remarks').hasError('required')">
                            Remarks is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </mat-card>

            <div style="height: 50px !important;"></div>

        </form>

        <div *ngIf="Click" class="footer" fxLayout="column" fxLayoutAlign="center">
            <div  fxLayout="row" fxLayoutAlign="space-between center" fxFlex class="px-8">
                <div style="flex:1 auto"></div>
                <button mat-button class="releasebtn" (click)="AwardClicked()">Award</button>
            </div>
        </div>


    </div>
    <mat-progress-spinner *ngIf="isProgressBarVisibile" class="progressBarPostion" color="accent" mode="indeterminate">
    </mat-progress-spinner>
    <div id="overlay" *ngIf="isProgressBarVisibile"></div>
</div>